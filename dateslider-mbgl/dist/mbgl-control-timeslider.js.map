{"version":3,"sources":["webpack:///webpack/bootstrap aedaf92ae7a1d7d504e1","webpack:///./mbgl-control-timeslider-polyfills.js","webpack:///./mbgl-control-timeslider-control.scss?5413","webpack:///./mbgl-control-timeslider-control.js"],"names":["Array","prototype","unique","result","val","ridx","outer","i","length","push","require","TimeSliderControl","options","current_year","Date","getFullYear","Object","assign","sourcename","undefined","datespan","onDateSelect","onRangeChange","date","datelimit","slice","Number","isInteger","map","_map","_container","document","createElement","className","innerHTML","_forwardbutton","querySelector","_backbutton","_homebutton","_mindateinput","_maxdateinput","_datereadout","_sliderbar","title","addEventListener","yearForward","yearBack","setDate","setRangeLower","value","setRangeUpper","_range_limit","_current_year","_current_range","min","max","setTimeout","_setupDateFiltersForLayers","setRange","_current_date","years","newyear","isDateWithinLimit","console","debug","year","parseInt","textContent","log","_applyDateFilterToLayers","newrange","mapstyle","getStyle","sources","filterlayers","layers","filter","layer","source","_getFilteredMapLayers","forEach","osmfilteringclause","oldfilters","getFilter","id","newfilters","splice","isArray","error","layerid","setFilter","matchosmids","querySourceFeatures","sourceLayer","feature","starts","properties","start_date","substr","ending","end_date","osm_id"],"mappings":"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","file":"mbgl-control-timeslider.js","sourceRoot":""}